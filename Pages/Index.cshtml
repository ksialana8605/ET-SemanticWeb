@page
@model IndexModel

<div id="carouselProducts" class="carousel slide">
    <ol class="carousel-indicators">
        <li data-target="#carouselProducts" data-slide-to="0" class="active"></li>

        <!--
        TODO #2: For every product saved in our list, add an <li> that looks like the first <li> above,
            except "0" should be replaced with the proper slide number (zero-based index).

            DO NOT INCLUDE the class="active" attribute. We only want to start with the first slide being the active slide on page load.

        e.g. If there are three products, then the additional output here would be:

            <li data-target="#carouselProducts" data-slide-to="1"></li>
            <li data-target="#carouselProducts" data-slide-to="2"></li>
            <li data-target="#carouselProducts" data-slide-to="3"></li>
        -->
        @for (var i = 1; i <= Model.Products.Count; i++)
        {
            <li data-target="#carouselProducts" data-slide-to="@i"></li>
        }

    </ol>
    <div class="carousel-inner">
        <div class="carousel-item active">
            <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/7/71/Wanzl_Concentra.jpg/120px-Wanzl_Concentra.jpg"
                alt="An abandoned shopping cart">
            <div class="carousel-caption d-none d-md-block">
                <h5>Conestoga Grocery Store</h5>
                <p>A wide variety of not-so-fresh products on display</p>
            </div>
        </div>

        <!--
            TODO #3: For every product saved in our list, add a <div> that looks like the sample <div> below, replacing all the "..." with
                     the appropriate data

            <div class="carousel-item">
                <img src="..." alt="...">
                <div class="carousel-caption d-none d-md-block">
                    <h5>...</h5>
                    <p>Quantity Left: ..., Cost: ...</p>
                </div>
            </div>
        -->
        @foreach (var item in Model.Products)
        {
            <div class="carousel-item">
                <img src="@item.ThumbnailUrl" alt="@item.Name" />
                <div class="carousel-caption d-none d-md-block">
                    <h5>@item.Name</h5>
                    <p>Quantity Left: @item.Quantity, Cost: @item.Price</p>
                </div>
            </div>
        }

    </div>
    <a class="carousel-control-prev" href="#carouselProducts" role="button" data-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
    </a>
    <a class="carousel-control-next" href="#carouselProducts" role="button" data-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
    </a>
</div>

<h3>Enter the XML in the textarea below</h3>

<form method="post">
    <div class="form-group">
        <textarea id="txaXMLInput" asp-for="@Model.XmlInput"></textarea>
    </div>
    <div class="form-group text-center">
        <input type="submit" value="Update" class="btn btn-primary" />
    </div>
</form>
